<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="icon" href="../../favicon.ico">

  <title>Application Platform</title>
  <!-- Bootstrap core CSS -->
  <link href="css/bootstrap.min.css" rel="stylesheet">

  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <link href="css/ie10-viewport-bug-workaround.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.11.0/bootstrap-table.min.css" rel="stylesheet"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.11.0/bootstrap-table.min.js"></script>
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

  <!-- Custom styles for this template -->
  <link href="dashboard.css" rel="stylesheet">

  <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
  <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
  <script src="js/ie-emulation-modes-warning.js"></script>

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
  <script>
  $(function(){   $("#topmenu").load("topmenu_MTU.html");  });
  $(function(){   $("#sidemenu_ae").load("sidemenu_ae.html");  });
  </script>
</head>

<body>
  <script>
    var password;
    var thePassword="b1350f41011544df4448e67042951945";
    password=prompt('Enter Password','');
    var passhash= CryptoJS.MD5(password);
    if (passhash==thePassword) {  }
    else { window.location="http://www.google.com/"; }
    </script>
  <div id="topmenu"></div>

  <div id="sidebar-menu" class="main_menu_side hidden-print main_menu">
    <div class="menu_section">
      <div class="col-lg-1 sidebar">
        <ul class="nav nav-sidebar">
          <li><a href="customer_salesman_MTU.html"><span class="glyphicon glyphicon-king"></span> Customer</a></li>
          <li class="active"><a href="demand_salesman_MTU.html"><span class="glyphicon glyphicon-list"></span> Demand<span class="sr-only">(current)</span></a></li>
          <li><a href="documents.html"><span class="glyphicon glyphicon-folder-open"></span> Documents</a></li>
          <li><a href="actions.html"><span class="glyphicon glyphicon-star"></span> Actions</a></li>
          <li><a href="history.html"><span class="glyphicon glyphicon-time"></span> History</a></li>
        </ul>
      </div>
    </div>
  </div>


  <div class="col-lg-offset-1 main">
    <h2 class="page-header">Machine</h2>

    <form>
      <div class="form-group">
        <label for="machine">Machine</label>
        <div class="row">
          <div class="col-lg-3">
            <img src="../img/gf.png" class="img-rounded" id="imagemachine" width="250" height="200">
          </div>
          <div class="col-lg-6">
            <label for="techno">Technology</label>
            <select name="techno" class="form-control" id="techno">
              <option >Choose Technology ...</option>
              <option selected value="milling">Milling</option>
              <option value="edmds">EDM-Die Sinking</option>
              <option value="edmwire">EDM-Wire</option>
              <option value="laser">Laser</option>
              <option value="microlution">Microlution</option>
              <option value="am">Additive Manufacturing</option>
            </select>
          </div>
          <div id="millingmachine" class="col-lg-6">
            <label for="serial">Machine Type</label>
            <select name="millingmachine" class="form-control" id="millingmachinesel">
              <option selected>Choose Machine ...</option>
            </select>
          </div>
          <div id="edmdsmachine" style="display:none" class="col-lg-6">
            <label for="serial">Machine Type</label>
            <select name="edmdsmachine" class="form-control" id="edmdsmachinesel">
              <option selected>Choose Machine ...</option>
            </select>
          </div>
          <div id="edmwiremachine" style="display:none" class="col-lg-6">
            <label for="serial">Machine Type</label>
            <select name="edmwiremachine" class="form-control" id="edmwiremachinesel">
              <option selected>Choose Machine ...</option>
              <option value="cut2000s">Cut 2000S</option>
              <option value="cut2000x">Cut 2000X</option>
              <option value="cute600">Cut E 600</option>
              <option value="cutp350">Cut P 350</option>
            </select>
          </div>
          <div id="lasermachine" style="display:none" class="col-lg-6">
            <label for="serial">Machine Type</label>
            <select name="lasermachine" class="form-control" id="lasermachinesel">
              <option selected>Choose Machine ...</option>
            </select>
          </div>


          <div class="col-lg-3">
            <label for="serial">Serial Number</label>
            <input type="text" class="form-control" placeholder="Serial Number">
          </div>
          <div id="commentmachine" class="col-lg-6">
            <label for="serial">Comment on machine</label>
            <input type="text" rows="3" class="form-control" placeholder="Comment on machine">
          </div>
          <div class="col-lg-3">
            <label for="serial">Competition</label>
            <input type="text" class="form-control" placeholder="Competition" id=competition >
          </div>
        </div>
      </div>
    </form>
  </div>


  <div class="col-lg-offset-1 main">
    <h2 class="page-header">Customer's requirements</h2>

    <form id="customerrequirements">
      <div class="form-group col-lg-6">
        <label for="TypeDemand">Type of Demand</label>
        <select id="typedemand" class="form-control">
          <option selected >Choose type of demand ...</option>
          <option>CAM Simulation</option>
          <option>Feasibility</option>
          <option>Test Cut</option>
          <option>Time study</option>
          <option>Training / Application Support</option>
        </select>
      </div>
      <div class="form-group col-lg-6">
        <label for="machiningtype">Type of Machining</label>
        <select id="machiningtype" class="form-control">
          <option>Choose machining type ...</option>
          <option>Full cut</option>
          <option>Texturing</option>
          <option>Engraving</option>
          <option>Polishing</option>
          <option>Roughing</option>
        </select>
      </div>
      <div class="form-group col-lg-6">
        <label for="confidentiality">Confidentiality</label>
        <select id="confidentiality" class="form-control">
          <option selected >Choose confidentiality level ...</option>
          <option>Not confidential</option>
          <option>Do not show to customers</option>
          <option>Do not show to exhibition</option>
          <option>Only for internal</option>
          <option>Ultra confidential</option>
        </select>
      </div>
      <div class="form-group col-lg-6">
        <label for="salesman">Salesman</label>
        <input id="salesman" type="text"  readonly class="form-control" value="Christophe Thibault">
      </div>

      <div class="form-row">
        <div class="form-group col-lg-2">
          <label for="tooling">Tooling</label>
          <select id="toolingsel" class="form-control">
            <option>Please choose from above</option>
          </select>
        </div>
        <div class="form-group col-lg-2">
          <label for="inputTooling">Part provided</label>
          <select id="inputTooling" class="form-control">
            <option selected>Please choose ...</option>
            <option>No</option>
            <option>Yes</option>
          </select>
        </div>
        <div class="form-group col-lg-8">
          <label for="tooling">Comment</label>
          <input type="text" class="form-control" placeholder="Comment">
        </div>
      </div>



      <div id="wire" style="display:none">
        <div class="form-group col-lg-2">
          <label for="wire">Wire</label>
          <select id="wiresel" class="form-control">
            <option>Please choose from above</option>
          </select>
        </div>
        <div class="form-group col-lg-2">
          <label for="inputState">Wire provided</label>
          <select id="inputState" class="form-control">
            <option selected>Please choose ...</option>
            <option >No</option>
            <option>Yes</option>
          </select>
        </div>
        <div class="form-group col-lg-1">
          <label for="wirediameter">Diameter</label>
          <input type="text" class="form-control" placeholder="Diameter">
        </div>
        <div class="form-group col-lg-7">
          <label for="wire">Comment</label>
          <input type="text" class="form-control" placeholder="Comment">
        </div>
      </div>


      <div id="electrode" style="display:none">
        <div class="form-group col-lg-3">
          <label for="electrode">Electrode</label>
          <select id="electrodesel" class="form-control">
            <option>Please choose from above</option>
          </select>
        </div>
        <div class="form-group col-lg-2">
          <label for="inputState">Electrode provided</label>
          <select id="inputState" class="form-control">
            <option selected>Please choose ...</option>
            <option>No</option>
            <option>Yes</option>
          </select>
        </div>
        <div class="form-group col-lg-7">
          <label for="electrode">Comment</label>
          <input type="text" class="form-control" placeholder="Comment">
        </div>
      </div>

      <div class="form-row">
        <div id="cuttingtool" >
        <div class="form-group col-lg-3">
          <label for="cuttingtool">Cutting Tool</label>
          <select id="cuttingtoolsel" class="form-control">
            <option>Please choose from above</option>
          </select>
        </div>
        <div class="form-group col-lg-2">
          <label for="inputState">Tool provided</label>
          <select id="inputState" class="form-control">
            <option selected>Please choose ...</option>
            <option>No</option>
            <option>Yes</option>
          </select>
        </div>
        <div class="form-group col-lg-1">
          <label for="cuttingtooldiameter">Diameter</label>
          <input type="text" class="form-control" placeholder="Diameter">
        </div>
        <div class="form-group col-lg-6">
          <label for="cuttingtool">Comment</label>
          <input type="text" class="form-control" placeholder="Comment">
        </div>
        </div>
      </div>


          <div class="form-group col-lg-6">
            <label for="cam">CAM</label>
            <input id="cam" type="text" class="form-control" placeholder="CAM">
          </div>
          <div class="form-group col-lg-6">
            <label for="cad">CAD</label>
            <input id="cad" type="text" class="form-control" placeholder="CAD">
          </div>
  </form>
  </div>

  <div class="col-lg-offset-1 main">
    <h2 class="page-header">Part's requirements</h2>
    <form id="partsrequirements">
    <div class="form-row">
      <div class="form-group col-lg-2">
        <label for="material">Material</label>
        <select id="material" class="form-control">
          <option selected>Choose material ...</option>
          <option>Steel</option>
          <option>Aluminium</option>
          <option>Carbon</option>
          <option>Cardboard</option>
          <option>Plastic</option>
        </select>
      </div>
      <div class="form-group col-lg-2">
        <label for="raw_part_material">Raw part provided</label>
        <select id="raw_part_material" class="form-control">
          <option selected>Please choose ...</option>
          <option >No</option>
          <option>Yes</option>
        </select>
      </div>
      <div class="form-group col-lg-2">
        <label for="hardness">Hardness of material</label>
        <input id="hardness" type="text" class="form-control" placeholder="Hardness">
      </div>
      <div class="form-group col-lg-6">
        <label for="comment_material">Comment/Specification on material</label>
        <input id="comment_material" type="text" class="form-control" placeholder="Comment">
      </div>
    </div>
    <div class="form-row col-lg-12">
      <label for="priority">Priority</label>
      <div class="form-row">
        <div class="form-group col-lg-4">
          <label for="speed_priority">Speed</label>
          <select id="speed_priority" class="form-control">
            <option selected>Please choose priority ...</option>
            <option>1</option>
            <option>2</option>
            <option>3</option>
          </select>
        </div>
        <div class="form-group col-lg-4">
          <label for="accuracy_priority">Accuracy</label>
          <select id="accuracy_priority" class="form-control">
            <option selected>Please choose priority ...</option>
            <option >1</option>
            <option>2</option>
            <option>3</option>
          </select>
        </div>
        <div class="form-group col-lg-4">
          <label for="surface_finish_priority">Surface Finish</label>
          <select id="surface_finish_priority" class="form-control">
            <option selected>Please choose priority ...</option>
            <option >1</option>
            <option>2</option>
            <option>3</option>
          </select>
        </div>
        <div class="form-group col-lg-4">
          <input id="speed" type="text" class="form-control" placeholder="Speed Tolerance">
        </div>
        <div class="form-group col-lg-4">
          <input id="accuracy" type="text" class="form-control" placeholder="Accuracy Tolerance">
        </div>
        <div class="form-group col-lg-4">
          <input id="surface_finish" type="text" class="form-control" placeholder="Surface Finish Tolerance">
        </div>
      </div>

    </div>

    <div class="form-row">
      <div class="form-group col-lg-4">
        <label for="parttype">Part Type</label>
        <select id="parttype" class="form-control">
          <option selected>Select part type ...</option>
          <option>Production</option>
          <option>Prototype</option>
        </select>
      </div>
      <div class="form-group col-lg-8">
        <label for="partcondition">Condition of used part</label>
        <input type="text" id="partcondition" class="form-control" placeholder="Usage condition of part"></input>
      </div>
      <div class="form-group col-lg-2">
        <label for="challengeprocesssel">Main Challenges of process</label>
        <select id="challengeprocesssel" class="form-control">
          <option selected>Select challenge of process ...</option>
          <option>Cost reduction</option>
          <option>Traceability</option>
          <option>Injection problems</option>
        </select>
      </div>
      <div class="form-group col-lg-4">
        <label for="challengeprocess">Main Challenges of process</label>
        <textarea type="text" rows="3" id="challengeprocess" class="form-control" placeholder="Main challenges of process"></textarea>
      </div>
      <div class="form-group col-lg-2">
        <label for="challengepartsel">Main Challenges of part</label>
        <select id="challengepartsel" class="form-control">
          <option selected>Select challenge of part ...</option>
          <option>Repeatibility</option>
          <option>Visual aspect</option>
          <option>Accuracy</option>
          <option>Operational Time</option>
          <option>Machining Time</option>
        </select>
      </div>
      <div class="form-group col-lg-4">
        <label for="challengepart">Main Challenges of part</label>
        <textarea type="text" rows="3" id="challengepart" class="form-control" placeholder="Main challenges of part"></textarea>
      </div>
    </div>


  </form>
  </div>




  <div class="col-lg-offset-1 main">
    <h2 class="page-header">Application's comments</h2>
    <div class="form-row">
      <div class="form-group col-lg-6">
        <label for="preprocess">Pre Process</label>
        <textarea type="text" rows="4" id="preprocess_comment" class="form-control" placeholder="Preprocess on part"></textarea>
      </div>
      <div class="form-group col-lg-6">
        <label for="postprocess">Post Process</label>
        <textarea type="text" rows="4" id="postprocess_comment" class="form-control" placeholder="Postprocess on part"></textarea>
      </div>
      <div class="form-group col-lg-12">
        <label for="comment_ae">Comment</label>
        <textarea type="text" rows="4" id="comment_ae" class="form-control" placeholder="Comment ..."></textarea>
      </div>
      <div class="form-group col-lg-8"> </div>
      <div class="form-group col-lg-4">
        <button type="button" class="btn btn-primary btn-lg btn-block" onclick="validationForm()" data-toggle="modal" data-target="#savedsuccess">Save</button>
      </div>
      <div class="form-group col-lg-8"> </div>
      <div class="form-group col-lg-4">
          <span class="glyphicon glyphicon-eye-open">  </span> Seen by A.Marty, R.Schenker and J.Clavel
      </div>
  </div>


  <div id="savedsuccess" class="modal fade" role="dialog">
    <div class="modal-dialog">
    <div class="alert alert-success">
        <a href="#" class="close" data-dismiss="alert">&times;</a>
        <strong>Success!</strong> The form has been successfully updated.
    </div>
    </div>
  </div>
    </div>

  <script>

  function download(text, filename) {
  var element = document.createElement('a');
  element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));
  element.setAttribute('download', filename);

  element.style.display = 'none';
  document.body.appendChild(element);

  element.click();

  document.body.removeChild(element);
  }

  function validationForm() {

    switch($("#techno").val()){
      case "milling":
      var machine_data = $("#millingmachinesel").val();
      break;
      case "edmds":
      var machine_data = $("#edmdsmachinesel").val();
      break;
      case "edmwire":
      var machine_data = $("#edmwiremachinesel").val();
      break;
      case "laser":
      var machine_data = $("#lasermachinesel").val();
      break;
      default:
      var machine_data = "";
    }

     var data = {
      techno: $("#techno").val(),
      machine: machine_data,
      typedemand: $("#typedemand").val(),
      machiningtype: $("#machiningtype").val(),
      confidentiality: $("#confidentiality").val(),
      salesman:   $("#salesman").val(),
      cam: $("#cam").val(),
      cad: $("#cad").val(),
      material: $("#material").val(),
      raw_part_material: $("#raw_part_material").val(),
      hardness: $("#hardness").val(),
      comment_material: $("#commment_material").val(),
      speed_priority: $("#speed_priority").val(),
      accuracy_priority: $("#accuracy_priority").val(),
      surface_finish_priority: $("#surface_finish_priority").val(),
      speed: $("#speed").val(),
      accuracy: $("#accuracy").val(),
      surface_finish: $("#surface_finish").val(),
      parttype: $("#parttype").val(),
      partcondition: $("#partcondition").val(),
      challengeprocesssel: $("#challengeprocesssel").val(),
      challengeprocess: $("#challengeprocess").val(),
      challengepartsel: $("#challengepartsel").val(),
      challengepart: $("#challengepart").val(),
      preprocess_comment: $("#preprocess_comment").val(),
      postprocess_comment: $("#postprocess_comment").val(),
      comment_ae: $("#comment_ae").val()
    }

    var jsonData = JSON.stringify(data);

    download(jsonData,"MTU_demand.json");
  }

  function readTextFile(file, callback) {
  var rawFile = new XMLHttpRequest();
  rawFile.overrideMimeType("application/json");
  rawFile.open("GET", file, true);
  rawFile.onreadystatechange = function() {
      if (rawFile.readyState === 4 && rawFile.status == "200") {
          callback(rawFile.responseText);
      }
  }
  rawFile.send(null);
  }

  //usage:
  readTextFile("tcdata/MTU_demand.json", function(text){
  var data = JSON.parse(text);
  $.each(data, function(id, val){
    var $el = $('[id="'+id+'"]'),
        type = $el.attr('type');

    switch(type){
        case 'checkbox':
            $el.attr('checked', 'checked');
            break;
        case 'radio':
            $el.filter('[value="'+val+'"]').attr('checked', 'checked');
            break;
        default:
            $el.val(val);
    }
  });
  console.log(data);
  });

  function imageFormatter() {
    return '<img src="http://hostimage.webdev.info/images/execution_cb09e50e677390bb9d354a9ad48973b5.PNG">';
  }

  $('#techno').on('change',function(){
    var selection = $(this).val();
    switch(selection){
      case "milling":
      $("#millingmachine").show()
      $("#edmdsmachine").hide()
      $("#edmwiremachine").hide()
      $("#lasermachine").hide()
      $("#cuttingtool").show()
      $("#wire").hide()
      $("#electrode").hide()
      $('#millingmachinesel').on('change',function(){ var sel = $(this).val(); load(sel); })
      break;
      case "edmds":
      $("#edmdsmachine").show()
      $("#millingmachine").hide()
      $("#edmwiremachine").hide()
      $("#lasermachine").hide()
      $("#electrode").show()
      $("#cuttingtool").hide()
      $("#wire").hide()
      $('#edmdsmachinesel').on('change',function(){ var sel = $(this).val(); load(sel); })
      break;
      case "edmwire":
      $("#edmwiremachine").show()
      $("#millingmachine").hide()
      $("#edmdsmachine").hide()
      $("#lasermachine").hide()
      $("#wire").show()
      $("#cuttingtool").hide()
      $("#electrode").hide()
      $('#edmwiremachinesel').on('change',function(){ var sel = $(this).val(); load(sel); })
      break;
      case "laser":
      $("#lasermachine").show()
      $("#millingmachine").hide()
      $("#edmdsmachine").hide()
      $("#edmwiremachine").hide()
      $("#electrode").hide()
      $("#cuttingtool").hide()
      $("#wire").hide()
      $('#lasermachinesel').on('change',function(){ var sel = $(this).val(); load(sel); })
      break;
      default:
      $("#millingmachine").hide()
      $("#edmdsmachine").hide()
      $("#edmwiremachine").hide()
      $("#lasermachine").hide()
      $("#wire").hide()
      $("#cuttingtool").hide()
      $("#electrode").hide()
    }
  });

    function load(img)
  {
    alert
  document.getElementById('imagemachine').src = '../img/' +img+'.jpg' ;
  }

$("#toolingsel").load("tooling.txt");
$("#cuttingtoolsel").load("cuttingtool.txt");
$("#wiresel").load("wire.txt");
$("#electrodesel").load("electrode.txt");
$("#millingmachinesel").load("millingmachine.txt");
$("#lasermachinesel").load("lasermachine.txt");
$("#edmdsmachinesel").load("edmdsmachine.txt");
$("#edmwiremachinesel").load("edmwiremachine.txt");


</script>
<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="js/vendor/jquery.min.js"><\/script>')</script>
<script src="/js/bootstrap.min.js"></script>
<!-- Just to make our placeholder images work. Don't actually copy the next line! -->
<script src="js/vendor/holder.min.js"></script>
<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<script src="js/ie10-viewport-bug-workaround.js"></script>
</body>
</html>
