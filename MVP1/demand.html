<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="icon" href="../../favicon.ico">

  <title>Application Platform</title>
  <!-- Bootstrap core CSS -->
  <link href="css/bootstrap.min.css" rel="stylesheet">

  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <link href="css/ie10-viewport-bug-workaround.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.11.0/bootstrap-table.min.css" rel="stylesheet"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.11.0/bootstrap-table.min.js"></script>
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

  <!-- Custom styles for this template -->
  <link href="dashboard.css" rel="stylesheet">

  <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
  <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
  <script src="js/ie-emulation-modes-warning.js"></script>

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
  <script>
  $(function(){   $("#topmenu").load("topmenu.html");  });
  $(function(){   $("#sidemenu_ae").load("sidemenu_ae.html");  });

  </script>

</head>

<body>
  <script>
      var password;
      var thePassword="ee857f7d156e974bd0bfd8b97d9d0c81";
      password=prompt('Enter Password','');
      var passhash= CryptoJS.MD5(password);
      if (passhash==thePassword) {  }
      else { window.location="http://www.google.com/"; }
      </script>
  <div id="topmenu"></div>

  <div id="sidebar-menu" class="main_menu_side hidden-print main_menu">
    <div class="menu_section">
      <div class="col-lg-1 sidebar">
        <ul class="nav nav-sidebar">
          <li><a href="customer.html"><span class="glyphicon glyphicon-king"></span> Customer</a></li>
          <li class="active"><a href="demand.html"><span class="glyphicon glyphicon-list"></span> Demand<span class="sr-only">(current)</span></a></li>
          <li><a href="documents.html"><span class="glyphicon glyphicon-folder-open"></span> Documents</a></li>
          <li><a href="actions.html"><span class="glyphicon glyphicon-star"></span> Actions</a></li>
          <li><a href="history.html"><span class="glyphicon glyphicon-time"></span> History</a></li>

        </ul>
      </div>
    </div>
  </div>

  <div class="col-lg-offset-1 main">
    <h2 class="page-header">Machine</h2>

    <form>
      <div class="form-group">
        <label for="machine">Machine</label>
        <div class="row">
          <div class="col-lg-3">
            <img src="../img/gf.png" class="img-rounded" id="imagemachine" width="250" height="200">
          </div>
          <div class="col-lg-6 required">
            <label class="control-label" for="techno">Technology</label>
            <select name="techno" class="form-control" id="techno">
              <option value ="" selected>Choose Technology ...</option>
              <option value="milling">Milling</option>
              <option value="edmds">EDM-Die Sinking</option>
              <option value="edmwire">EDM-Wire</option>
              <option value="laser">Laser</option>
              <option value="microlution">Microlution</option>
              <option value="am">Additive Manufacturing</option>
            </select>
          </div>
          <div id="millingmachine" style="display:none" class="col-lg-6">
            <label>Machine Type</label>
            <select name="millingmachine" class="form-control" id="millingmachinesel">
              <script>  $("#millingmachinesel").load("millingmachine.txt");</script>
            </select>
          </div>
          <div id="edmdsmachine" style="display:none" class="col-lg-6">
            <label for="serial">Machine Type</label>
            <select name="edmdsmachine" class="form-control" id="edmdsmachinesel">
              <script>  $("#edmdsmachinesel").load("edmdsmachine.txt");</script>
            </select>
          </div>
          <div id="edmwiremachine" style="display:none" class="col-lg-6">
            <label for="serial">Machine Type</label>
            <select name="edmwiremachine" class="form-control" id="edmwiremachinesel">
              <script>  $("#edmwiremachinesel").load("edmwiremachine.txt");</script>
            </select>
          </div>
          <div id="lasermachine" style="display:none" class="col-lg-6">
            <label for="serial">Machine Type</label>
            <select name="lasermachine" class="form-control" id="lasermachinesel">
              <script>  $("#lasermachinesel").load("lasermachine.txt");</script>
            </select>
          </div>
          <div class="col-lg-3">
            <label class="control-label" for="serial">Serial Number</label>
            <input type="text" class="form-control" placeholder="Serial Number" id=serial_number >
          </div>
          <div class="col-lg-6">
            <label for="serial">Comment on machine</label>
            <input type="text" class="form-control" placeholder="Comment on machine" id=commentmachine >
            </div>
          <div class="col-lg-3">
            <label for="serial">Competition</label>
            <input type="text" class="form-control" placeholder="Competition" id=competition >
          </div>
        </div>
      </div>
  </div>


  <div class="col-lg-offset-1 main">
    <h2 class="page-header">Customer's requirements</h2>

      <div class="form-group col-lg-6">
        <label for="TypeDemand">Type of Demand</label>
        <select id="typedemand" class="form-control">
          <option value ="" selected >Choose type of demand ...</option>
          <option>CAM Simulation</option>
          <option>Feasibility</option>
          <option>Test Cut</option>
          <option>Time study</option>
          <option>Training / Application Support</option>
        </select>
      </div>
      <div class="form-group col-lg-3">
        <label for="machiningtype">Type of Machining</label>
        <select id="machiningtype" class="form-control">
          <option value ="" selected>Choose machining type ...</option>
          <option>Full cut</option>
          <option>Texturing</option>
          <option>Engraving</option>
          <option>Polishing</option>
          <option>Roughing</option>
        </select>
      </div>
      <div class="form-group col-lg-3">
        <label>Expected finished date</label>
        <input id="datefinish" type="text" class="form-control" placeholder="Finish date expected">
      </div>
      <div class="form-group col-lg-6">
        <label for="confidentiality">Confidentiality</label>
        <select id="confidentiality" class="form-control">
          <option selected >Choose confidentiality level ...</option>
          <option>Not confidential</option>
          <option>Do not show to customers</option>
          <option>Do not show to exhibition</option>
          <option>Only for internal</option>
          <option>Ultra confidential</option>
        </select>
      </div>
      <div class="form-group col-lg-6">
        <label for="salesman">Salesman</label>
        <input id="salesman" type="text"  readonly class="form-control" value="John Doe">
      </div>

      <div class="form-row">
        <div class="form-group col-lg-2">
          <label for="tooling">Tooling</label>
          <select id="toolingsel" class="form-control">
            <script>  $("#toolingsel").load("tooling.txt");</script>
          </select>
        </div>
        <div class="form-group col-lg-2">
          <label>Tooling provided</label>
          <select id="toolingprovided" class="form-control">
            <option value ="" selected>Please choose ...</option>
            <option>No</option>
            <option>Yes</option>
          </select>
        </div>
        <div class="form-group col-lg-8">
          <label>Comment</label>
          <input type="text" class="form-control" id="toolingcomment" placeholder="Comment">
        </div>
      </div>

          <div class="form-group col-lg-6">
            <label for="cam">CAM</label>
            <input type="text" class="form-control" id=cam placeholder="CAM">
          </div>
          <div class="form-group col-lg-6">
            <label for="cad">CAD</label>
            <input type="text" class="form-control" id="cad" placeholder="CAD">
          </div>
  </div>

  <div id="partsrequirementsdiv">
    <div class="col-lg-offset-1 main">
      <div class="row">
    <div class="col-lg-2"><h2 class="page-header"> Part's requirements </div>
       <div class=" col-lg-2">
         <input type="text" id="partname" class="form-control" placeholder="Name of Part">
       </div>
       <div class=" col-lg-2">
       <button id="new_part" onclick=duplicate() type="button" class="btn btn-success">Add New Part to the Test Cut</button>
     </div>
     <div class=" col-lg-6"></div></h2>
   </div>

      <div id="wire" style="display:none">
        <div class="form-group col-lg-2">
          <label for="wire">Wire</label>
          <select id="wiresel" class="form-control">
            <script>  $("#wiresel").load("wire.txt");</script>
          </select>
        </div>
        <div class="form-group col-lg-2">
          <label for="inputState">Wire provided</label>
          <select id="wireprovided" class="form-control">
            <option value ="" selected>Please choose ...</option>
            <option >No</option>
            <option>Yes</option>
          </select>
        </div>
        <div class="form-group col-lg-1">
          <label>Diameter</label>
          <input type="text" class="form-control" id="wirediameter" placeholder="Diameter">
        </div>
        <div class="form-group col-lg-7">
          <label>Comment</label>
          <input type="text" class="form-control" id="wirecomment" placeholder="Comment">
        </div>
      </div>


      <div id="electrode" style="display:none">
        <div class="form-group col-lg-2">
          <label for="electrode">Electrode</label>
          <select id="electrodesel" class="form-control">
            <script>  $("#electrodesel").load("electrode.txt");</script>
          </select>
        </div>
        <div class="form-group col-lg-2">
          <label>Electrode provided</label>
          <select id="electrodeprovided" class="form-control">
            <option value ="" selected>Please choose ...</option>
            <option>No</option>
            <option>Yes</option>
          </select>
        </div>
        <div class="form-group col-lg-2">
          <label>Electrode's material</label>
          <select id="electrodematerialsel" class="form-control">
            <script>  $("#electrodematerialsel").load("material.txt");</script>
          </select>
        </div>
        <div class="form-group col-lg-6">
          <label>Comment</label>
          <input type="text" class="form-control" id="electrodecomment" placeholder="Comment">
        </div>
      </div>

      <div class="form-row">
        <div id="cuttingtool" style="display:none">
        <div class="form-group col-lg-2">
          <label for="cuttingtool">Cutting Tool</label>
          <select id="cuttingtoolsel" class="form-control">
            <script>  $("#cuttingtoolsel").load("cuttingtool.txt");</script>
          </select>
        </div>
        <div class="form-group col-lg-2">
          <label>Cutting Tool provided</label>
          <select id="cuttingtoolprovided" class="form-control">
            <option value="" selected>Please choose ...</option>
            <option>No</option>
            <option>Yes</option>
          </select>
        </div>
        <div class="form-group col-lg-2">
          <label >Diameter</label>
          <input type="text" class="form-control" id="cuttingtooldiameter" placeholder="Diameter">
        </div>
        <div class="form-group col-lg-6">
          <label>Comment</label>
          <input type="text" class="form-control" id="cuttingtoolcomment" placeholder="Comment">
        </div>
        </div>
      </div>
    <div class="form-row">
      <div class="form-group col-lg-2 required">
        <label class="control-label" for="materialsel">Material</label>
        <select id="materialsel" name="materialsel" class="form-control">
          <script>  $("#materialsel").load("material.txt");</script>
        </select>
      </div>
      <div class="form-group col-lg-2">
        <label>Raw part provided</label>
        <select id="rawpartprovided" class="form-control">
          <option value="" selected>Please choose ...</option>
          <option >No</option>
          <option>Yes</option>
        </select>
      </div>
      <div class="form-group col-lg-2">
        <label>Hardness of material</label>
        <input type="text" class="form-control" id="hardness" placeholder="Hardness">
      </div>
      <div class="form-group col-lg-6">
        <label>Comment/Specification on material</label>
        <input type="text" class="form-control" id="materialcomment" placeholder="Comment">
      </div>
    </div>
    <div class="form-row col-lg-12">
      <label for="priority">Priority</label>
      <div class="form-row">
        <div class="form-group col-lg-4">
          <label>Speed</label>
          <select id="speed_priority" class="form-control">
            <option value="" selected>Please choose priority ...</option>
            <option>1</option>
            <option>2</option>
            <option>3</option>
          </select>
        </div>
        <div class="form-group col-lg-4">
          <label>Accuracy</label>
          <select id="accuracy_priority" class="form-control">
            <option value="" selected>Please choose priority ...</option>
            <option>1</option>
            <option>2</option>
            <option>3</option>
          </select>
        </div>
        <div class="form-group col-lg-4">
          <label>Surface Finish</label>
          <select id="surface_finish_priority" class="form-control">
            <option value="" selected>Please choose priority ...</option>
            <option >1</option>
            <option>2</option>
            <option>3</option>
          </select>
        </div>
        <div class="form-group col-lg-4">
          <input type="text" id="speed" class="form-control" placeholder="Speed Tolerance">
        </div>
        <div class="form-group col-lg-4">
          <input type="text"  id="accuracy" class="form-control" placeholder="Accuracy Tolerance">
        </div>
        <div class="form-group col-lg-4">
          <input type="text"  id="surface_finish" class="form-control" placeholder="Surface Finish Tolerance">
        </div>
      </div>
    </div>

      <div class="form-group col-lg-4">
        <label for="parttype">Part Type</label>
        <select id="partType" class="form-control">
          <option value="" selected>Select part type ...</option>
          <option>Production</option>
          <option>Prototype</option>
        </select>
      </div>
      <div class="form-group col-lg-4">
        <label for="parttype">Challenges</label>
        <select id="challengesel" class="form-control">
          <option value="" selected>Select part type ...</option>
          <option>Speed</option>
          <option>Small form</option>
          <option>Material difficulty</option>
          <option>Esthetic</option>
          <option>Functional surfaces</option>
          <option>Other</option>
        </select>
      </div>
      <div class="form-group col-lg-4">
          <label for="parttype">Comment of challenge</label>
        <input type="text"  id="challengecomment" class="form-control" placeholder="Main challenge">
      </div>

</div>
</div>

  <div class="col-lg-offset-1 main">
    <h2 class="page-header">Application's comments</h2>
    <div class="form-row">
      <div class="form-group col-lg-4">
        <label>Difficulty</label>
        <select id="difficultysel"class="form-control" placeholder="Difficulty of part">
          <option value="" selected>Select difficulty level of part/results ...</option>
          <option>Standard</option>
          <option>Advanced</option>
          <option>Expert</option>
        </select>
      </div>
      <div class="form-group col-lg-8">
        <ul>
          <li> Standard: Test Cut achievable with standard technology
          <li> Advanced: Test Cut achievable with fine tuning of some parameters
          <li> Expert: Test Cut achievable by developping new technology, need strong expertise
        </ul>
        Remark: The level of difficulty does not only depend on the part but also on the results achieved. It is related to the skills necessary to achieve the results.
        E.g. The part can be easy to do but one can achieve a time below what would be expected thanks to its expertise.
      </div>
      <div class="form-group col-lg-12">
        <label for="comment">Comment</label>
        <textarea type="text" rows="4" id="comment_ae" class="form-control" placeholder="Comment ..."></textarea>
      </div>
      <div class="form-group col-lg-8"> </div>
      <div class="form-group col-lg-4">
        <button type="button" class="btn btn-primary btn-lg btn-block" onclick=validationForm() data-toggle="modal" data-target="#savedsuccess">Save</button>
      </div>
  </div>
</div>

  </form>

  <div id="savedsuccess" class="modal fade" role="dialog">
    <div class="modal-dialog">
    <div class="alert alert-success">
        <a href="#" class="close" data-dismiss="alert">&times;</a>
        <strong>Success!</strong> The form has been successfully updated.
    </div>
    </div>
  </div>

  <script>

  document.getElementById('new_part').onclick = duplicate;
  var i = 0;


  function duplicate(){
    var original = document.getElementById('partsrequirementsdiv');
    var clone = original.cloneNode(true); // "deep" clone
   clone.id = "partsrequirementsdiv" + ++i; // there can only be one element with an ID
   document.getElementById("partsrequirementsdiv").after(clone);
  }

  function getParam(name){
   name = name.replace(/[\[]/,"\\\[").replace(/[\]]/,"\\\]");
   var regexS = "[\\?&]"+name+"=([^&#]*)";
   var regex = new RegExp( regexS );
   var results = regex.exec (window.location.href);
   if (results == null)
       return "";
       else
       return results[1];
}

function readTextFile(file, callback) {
var rawFile = new XMLHttpRequest();
rawFile.overrideMimeType("application/json");
rawFile.open("GET", file, true);
rawFile.onreadystatechange = function() {
    if (rawFile.readyState === 4 && rawFile.status == "200") {
        callback(rawFile.responseText);
    }
}
rawFile.send(null);
}

readTextFile("tcdata/testcut"+getParam("id")+".json", function(text){
var data = JSON.parse(text);
$.each(data, function(id, val){
  var $el = $('[id="'+id+'"]'),
      type = $el.attr('type');

  switch(type){
      case 'checkbox':
          $el.attr('checked', 'checked');
          break;
      case 'radio':
          $el.filter('[value="'+val+'"]').attr('checked', 'checked');
          break;
      default:
          $el.val(val);
  }
});
console.log(data);
});


    $('#techno').on('change',function(){
    var selection = $(this).val();
    switch(selection){
      case "milling":
      $("#millingmachine").show()
      $("#edmdsmachine").hide()
      $("#edmwiremachine").hide()
      $("#lasermachine").hide()
      $("#cuttingtool").show()
      $("#wire").hide()
      $("#electrode").hide()
      $('#millingmachinesel').on('change',function(){ var sel = $(this).val(); load(sel); })
      break;
      case "edmds":
      $("#edmdsmachine").show()
      $("#millingmachine").hide()
      $("#edmwiremachine").hide()
      $("#lasermachine").hide()
      $("#electrode").show()
      $("#cuttingtool").hide()
      $("#wire").hide()
      $('#edmdsmachinesel').on('change',function(){ var sel = $(this).val(); load(sel); })
      break;
      case "edmwire":
      $("#edmwiremachine").show()
      $("#millingmachine").hide()
      $("#edmdsmachine").hide()
      $("#lasermachine").hide()
      $("#wire").show()
      $("#cuttingtool").hide()
      $("#electrode").hide()
      $('#edmwiremachinesel').on('change',function(){ var sel = $(this).val(); load(sel); })
      break;
      case "laser":
      $("#lasermachine").show()
      $("#millingmachine").hide()
      $("#edmdsmachine").hide()
      $("#edmwiremachine").hide()
      $("#electrode").hide()
      $("#cuttingtool").hide()
      $("#wire").hide()
      $('#lasermachinesel').on('change',function(){ var sel = $(this).val(); load(sel); })
      break;
      default:
      $("#millingmachine").hide()
      $("#edmdsmachine").hide()
      $("#edmwiremachine").hide()
      $("#lasermachine").hide()
      $("#wire").hide()
      $("#cuttingtool").hide()
      $("#electrode").hide()
    }
  });

    function load(img)
  {
  document.getElementById('imagemachine').src = '../img/' +img+'.jpg' ;
  }









</script>
<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="js/vendor/jquery.min.js"><\/script>')</script>
<script src="/js/bootstrap.min.js"></script>
<!-- Just to make our placeholder images work. Don't actually copy the next line! -->
<script src="js/vendor/holder.min.js"></script>
<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<script src="js/ie10-viewport-bug-workaround.js"></script>
</body>
</html>
